# 01. Vision & Scope

## 1. プロダクト概要

### 1.1 プロダクト名（仮）

Cooking Planner（仮）

### 1.2 コンセプト

「料理本ベースのレシピを、献立と買い物リストまで一気通貫で管理できる個人専用Webアプリ」。

- 書籍に載っているレシピをデータとして登録し直す
- 日付ごとに「この日の朝・昼・夜に何を作るか」を決める
- 複数日の献立から「足りない材料だけ」をまとめて買い物リストとして取得する
- アプリはインターネット上に公開するが、**ログインした自分だけが利用できる**

---

## 2. 背景・課題

### 2.1 現状の困りごと

- レシピ本を見ながら献立を考えるときに、
    - 「このレシピ前に作ったことあるっけ？」
    - 「同じ材料を使うレシピを組み合わせて使い切りたい」  
      などを**頭の中と付箋メモだけで管理していて煩雑**。
- 買い物前に複数レシピを開きながら必要な材料を手書きでメモする必要がある。
- 一人暮らし・少人数向けに分量調整したいが、レシピ本の記載と頭の中での変換に頼っている。

### 2.2 解決したいこと

- レシピ本の情報を一度アプリに登録しておくことで、
    - 献立決め
    - 必要な材料の算出
    - 買い物リスト作成
      を毎回ゼロから考え直さなくて済むようにする。
- 「今日は何を作るか」を決めるストレスよりも、  
  「自分で決めたレシピ本の組み合わせを選ぶ楽しさ」に寄せたい。
- 外出先（スーパー）からスマホで**自分専用の買い物リストにアクセス**できるようにする。

---

## 3. スコープ

### 3.1 対象ユーザー

- 想定ユーザー：**基本的には開発者本人 1名**
    - 将来、家族など2〜3人に共有する可能性はあるが、当面は単一ユーザー前提。
- 技術リテラシーは高い想定（自分用のため、UI/UXは必要十分レベルを目標）。

### 3.2 利用シーン

- 自宅でレシピ本を見ながら：
    - レシピをアプリに登録する
    - 1週間分の献立をざっくり決める
- スーパーで買い物中：
    - スマホからアプリにアクセス
    - 当日／数日分の買い物リストを確認
    - カゴに入れたものをチェックしながら消していく

---

## 4. ゴールと非ゴール

### 4.1 ゴール（やりたいこと）

- レシピ本のレシピをアプリに登録できる
    - レシピ名
    - 出典（本のタイトル・ページ）
    - 何人分のレシピか
    - 材料（食材名・分量・単位）
- 日付ごとに献立を登録できる
    - 朝 / 昼 / 夜などの区分ごとに、どのレシピを作るか決められる
    - 実際に作る人数（分量倍率）を指定できる
- 指定期間（例：今日〜3日後）に必要な材料の総量を算出し、  
  **買い物リストとして表示できる**
    - 同じ材料は合算した数量で表示（例：玉ねぎ 0.5個 + 1個 → 1.5個）
    - チェックボックスで「買った／家にある」管理ができる
- 外部からアクセスできるURLでホストするが、  
  **ログインした自分以外は使えない（/Cognito + JWTベースの認証）**

### 4.2 非ゴール（当面やらないこと）

- 一般公開サービス化（複数ユーザーが自由にサインアップ・ログイン）
- レシピ手順のリッチな管理（画像、動画、タイマー、手順の構造化など）
- レシピの画像アップロード機能
- 栄養計算・カロリー計算
- 買い物リストの店舗別最適化、価格比較
- 他サービス（クックパッド等）との連携・スクレイピング
- 多言語対応

---

## 5. MVP範囲（Must / Should / Won’t）

### 5.1 Must（MVPで必須）

- レシピ管理
    - レシピの新規登録・編集・一覧表示・詳細表示
    - レシピに紐づく材料の登録・編集
- 献立管理
    - 日付＋食事区分（朝/昼/夜）ごとのメニュー登録・閲覧
    - メニューに紐づくレシピ選択と、対象人数（servings）指定
- 買い物リスト
    - 任意の期間（from / to）を指定して、その期間の献立から材料を集計
    - 材料名ごとに必要量を集約したリストを返す
    - スマホから閲覧可能なチェックリストUI
- 認証
    - Cognito User Pool によるログイン
    - ログイン済みユーザーのみAPIにアクセスできる（API Gateway + JWT Authorizer）
- デプロイ
    - インターネットからアクセス可能なURL
    - HTTPS対応（CloudFront）

### 5.2 Should（余裕があれば入れたい）

- 材料のカテゴリ管理（野菜・肉・調味料など）
- よく使う材料の「常備品フラグ」
    - 常備品は買い物リストから自動的に除外するオプション
- レシピのメモ欄（味の感想・次回の調整メモ）

### 5.3 Won’t（今回のサイクルではやらない）

- マルチテナント・本格的なユーザー管理
- レシピのインポート機能（CSV/JSON等）
- PWA対応・オフライン対応
- 通知・リマインダー機能

---

## 6. 技術的スコープ

### 6.1 フロントエンド

- Vite + React + TypeScript の SPA
- React Router によるクライアントサイドルーティング
- TanStack Query（React Query）によるサーバー状態管理
- S3 に静的ホスティング、CloudFront経由で配信

### 6.2 バックエンド / インフラ

- AWS Lambda (Node.js + TypeScript)
    - 1つのLambda関数で複数パスをさばく小規模モノリス構成
- API Gateway HTTP API
    - Cognito User Pool を用いたJWT認証（Authorizer）
- DynamoDB
    - `Recipes`, `RecipeIngredients`, `Menus` などのテーブル
    - 当面はユーザーは1人前提だが、`userId` 属性は持たせておく
- Amazon Cognito User Pool
    - SPA向けのApp Client
    - Hosted UI or フロントから直接トークン取得
- AWS CDK によるインフラ定義・デプロイ

---

## 7. 非機能要件（ゆるめ）

- パフォーマンス
    - 個人利用のため、大量トラフィックは想定しない
    - 数十〜数百件のレシピ／献立をストレスなく扱えれば十分
- 可用性
    - 「たまにLambdaのコールドスタートで少し遅い」程度は許容
- セキュリティ
    - 外部からAPIを叩くには Cognitoでログイン済みのJWTが必須
    - https 通信のみ（CloudFront + ACM）
- 運用
    - CloudWatch Logsで最低限のログを確認できること
    - 個人利用のため、アラートは必須ではない（必要になったら追加）
